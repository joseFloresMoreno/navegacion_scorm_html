<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso SCORM - Navegaci√≥n</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="course.css">
</head>
<body>
    <!-- Loading screen -->
    <div id="loading" style="display: none;">
        <div class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <p class="text-white text-xl">Cargando curso...</p>
            </div>
        </div>
    </div>

    <!-- Main content -->
    <div id="main-content" class="course-container">
        <!-- Header con t√≠tulo y progreso -->
        <div class="course-header">
            <h1 id="course-title">Cuidados Paliativos: Atenci√≥n Integral al Paciente</h1>
            <div class="course-progress" id="course-progress">
                <!-- Progress dots se generar√°n din√°micamente -->
            </div>
        </div>

        <!-- Contenedor de slides -->
        <div id="course-content" class="slide-container">
            <!-- El contenido se generar√° din√°micamente por course.js -->
        </div>

        <!-- Navegaci√≥n -->
        <div class="slide-nav" id="slide-navigation">
            <!-- La navegaci√≥n se generar√° din√°micamente por course.js -->
        </div>
    </div>

    <!-- Modal de finalizaci√≥n -->
    <div id="completion-modal" class="completion-modal">
        <div class="modal-content">
            <div class="modal-icon">üéâ</div>
            <h2>¬°Curso Completado!</h2>
            <p>Felicitaciones, has completado exitosamente el curso. Tu progreso ha sido guardado en el sistema.</p>
            <div class="modal-buttons">
                <button class="btn-modal btn-modal-secondary" onclick="closeCompletionModal()">Revisar Curso</button>
                <button class="btn-modal btn-modal-primary" onclick="finishAndClose()">Finalizar</button>
            </div>
        </div>
    </div>

    <script>
        // Datos del curso compatibles con course.js
        const courseDataStructure = {
            courseData: {
                title: "Cuidados Paliativos: Atenci√≥n Integral al Paciente",
                navigationMode: "slides",
                slides: [
                    {
                        id: "slide-0",
                        order: 0,
                        type: "page",
                        title: "Introducci√≥n y Fundamentos de los Cuidados Paliativos",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_0.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <div class="text-center mb-4">
                                    <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=400&fit=crop" alt="Cuidados de salud" class="img-full-large">
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Bienvenida al Curso</h2>
                                <p class="text-lg" style="color: #4a5568;">Los cuidados paliativos son un enfoque de atenci√≥n m√©dica que busca mejorar la calidad de vida de los pacientes y sus familias cuando enfrentan enfermedades graves. Este curso te proporcionar√° los conocimientos fundamentales para comprender y aplicar los principios de los cuidados paliativos en tu pr√°ctica profesional.</p>
                                <div class="box box-border-left mt-3 mb-4" style="background: #e8f3f8; border-color: #a8d5e2;">
                                    <h4 class="mb-1" style="color: var(--slide-title-color);">Objetivos del Curso:</h4>
                                    <ul class="line-height-relaxed" style="color: #718096;">
                                        <li>Comprender los principios b√°sicos de los cuidados paliativos</li>
                                        <li>Identificar los s√≠ntomas comunes y su manejo</li>
                                        <li>Desarrollar habilidades de comunicaci√≥n efectiva</li>
                                        <li>Conocer el rol del equipo multidisciplinario</li>
                                    </ul>
                                </div>
                                <h2 class="mb-3 mt-4" style="color: var(--slide-title-color);">¬øQu√© son los Cuidados Paliativos?</h2>
                                <div class="desktop-text-image-layout mb-4">
                                    <p class="text-md margin-0" style="color: #4a5568;">Los cuidados paliativos son una atenci√≥n m√©dica especializada que se centra en proporcionar alivio del dolor y otros s√≠ntomas de una enfermedad grave. El objetivo es mejorar la calidad de vida tanto del paciente como de la familia.</p>
                                    <img src="https://images.unsplash.com/photo-1559757175-5700dde675bc?w=800&h=400&fit=crop" alt="Atenci√≥n m√©dica" class="img-full">
                                </div>
                                <style>
                                    @media (min-width: 769px) {
                                        .desktop-text-image-layout {
                                            flex-direction: row !important;
                                            align-items: flex-start;
                                            gap: 2rem !important;
                                        }
                                        .desktop-text-image-layout p {
                                            flex: 1;
                                        }
                                        .desktop-text-image-layout img {
                                            width: 400px !important;
                                            flex-shrink: 0;
                                        }
                                    }
                                </style>
                                <div class="box mb-4" style="background: #fef3e2;">
                                    <h4 class="mb-2" style="color: var(--color-secondary);">Principios Fundamentales:</h4>
                                    <ol class="line-height-loose" style="color: #718096;">
                                        <li><strong>Alivio del dolor y s√≠ntomas:</strong> Control efectivo del sufrimiento f√≠sico</li>
                                        <li><strong>Apoyo psicol√≥gico y espiritual:</strong> Atenci√≥n integral a necesidades emocionales</li>
                                        <li><strong>Afirmaci√≥n de la vida:</strong> Ver la muerte como un proceso natural</li>
                                        <li><strong>Enfoque en calidad de vida:</strong> Maximizar el bienestar del paciente</li>
                                    </ol>
                                </div>
                                <h3 class="mt-4 mb-2" style="color: var(--slide-title-color);">Trabajo en Equipo para una Atenci√≥n Integral</h3>
                                <p class="text-md mb-4" style="color: #4a5568;">Los cuidados paliativos requieren un enfoque multidisciplinario donde diversos profesionales trabajan en conjunto para atender todas las necesidades del paciente y su familia.</p>
                                <div class="grid-auto-fit-md mb-4">
                                    <div class="team-grid-item" style="background: #e8f3f8;">
                                        <h4 style="color: #7fb3c4;">üë®‚Äç‚öïÔ∏è M√©dicos</h4>
                                        <p class="text-sm" style="color: #718096;">Diagn√≥stico y tratamiento m√©dico</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #fef3e2;">
                                        <h4 style="color: #d4a373;">üë©‚Äç‚öïÔ∏è Enfermeros</h4>
                                        <p class="text-sm" style="color: #718096;">Cuidado directo y monitoreo</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #e8f3e8;">
                                        <h4 style="color: #a0c491;">üß† Psic√≥logos</h4>
                                        <p class="text-sm" style="color: #718096;">Apoyo emocional y mental</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #f3e8f8;">
                                        <h4 style="color: #b19cd9;">üôè Consejeros Espirituales</h4>
                                        <p class="text-sm" style="color: #718096;">Gu√≠a espiritual y religiosa</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #ffe8e8;">
                                        <h4 style="color: #d99999;">üë®‚Äçüë©‚Äçüëß Trabajadores Sociales</h4>
                                        <p class="text-sm" style="color: #718096;">Apoyo social y familiar</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #e8f8e8;">
                                        <h4 style="color: #91c491;">üßò Terapeutas</h4>
                                        <p class="text-sm" style="color: #718096;">Rehabilitaci√≥n f√≠sica</p>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-1",
                        order: 1,
                        type: "quiz",
                        title: "Evaluaci√≥n: Conceptos B√°sicos",
                        content: {
                            question: "¬øCu√°l es el objetivo principal de los cuidados paliativos?",
                            options: [
                                "Curar la enfermedad del paciente",
                                "Prolongar la vida a cualquier costo",
                                "Mejorar la calidad de vida del paciente y su familia",
                                "Sustituir todos los tratamientos m√©dicos"
                            ],
                            correctAnswer: 2,
                            explanation: "El objetivo principal de los cuidados paliativos es mejorar la calidad de vida tanto del paciente como de su familia, proporcionando alivio del dolor y otros s√≠ntomas, sin enfocarse √∫nicamente en curar la enfermedad o prolongar la vida.",
                            feedbackCorrect: "¬°Excelente! Comprendes claramente el enfoque de los cuidados paliativos.",
                            feedbackIncorrect: "Recuerda que los cuidados paliativos se centran en la calidad de vida, no solo en curar o prolongar la vida."
                        }
                    },
                    {
                        id: "slide-2",
                        order: 2,
                        type: "page",
                        title: "S√≠ntomas Comunes y Comunicaci√≥n Efectiva",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_2.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Identificaci√≥n y Tratamiento de S√≠ntomas</h2>
                                <p class="text-md mb-4" style="color: #4a5568;">Los pacientes en cuidados paliativos pueden experimentar diversos s√≠ntomas que requieren atenci√≥n especializada:</p>
                                <div class="grid-auto-fit-xl" style="margin-bottom: 2.5rem;">
                                    <div style="background: #fef3e2; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #d4a373; margin-bottom: 1rem;">ü§ï Dolor</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Evaluaci√≥n continua con escalas de dolor. Tratamiento farmacol√≥gico y no farmacol√≥gico.</p>
                                    </div>
                                    <div style="background: #e8f3f8; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #7fb3c4; margin-bottom: 1rem;">üò∞ Disnea</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Dificultad respiratoria. Ox√≠geno, posicionamiento, medicaci√≥n ansiol√≠tica.</p>
                                    </div>
                                    <div style="background: #e8f3e8; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #a0c491; margin-bottom: 1rem;">ü§¢ N√°useas y V√≥mitos</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Antiem√©ticos, manejo diet√©tico, control de causas subyacentes.</p>
                                    </div>
                                    <div style="background: #f3e8f8; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #b19cd9; margin-bottom: 1rem;">üò¥ Fatiga</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Conservaci√≥n de energ√≠a, actividad f√≠sica adaptada, manejo del sue√±o.</p>
                                    </div>
                                    <div style="background: #ffe8e8; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #d99999; margin-bottom: 1rem;">üòî Depresi√≥n/Ansiedad</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Apoyo psicol√≥gico, terapia, medicaci√≥n cuando sea necesario.</p>
                                    </div>
                                    <div style="background: #e8f8f8; padding: 1.5rem; border-radius: 8px;">
                                        <h4 style="color: #7fc4c4; margin-bottom: 1rem;">üö´ P√©rdida de Apetito</h4>
                                        <p style="color: #718096; font-size: 0.95rem;">Comidas peque√±as frecuentes, alimentos favoritos, estimulantes del apetito.</p>
                                    </div>
                                </div>
                                <h2 class="mb-3 mt-4" style="color: var(--slide-title-color);">Habilidades de Comunicaci√≥n Efectiva</h2>
                                <div class="desktop-text-image-layout mb-3">
                                    <p class="text-md margin-0" style="color: #4a5568;">La comunicaci√≥n efectiva es esencial en los cuidados paliativos. Permite establecer confianza, comprender las necesidades del paciente y tomar decisiones compartidas.</p>
                                    <img src="https://images.unsplash.com/photo-1584515933487-779824d29309?w=800&h=400&fit=crop" alt="Comunicaci√≥n m√©dico-paciente" class="img-full">
                                </div>
                                <div class="box mb-2" style="background: #e8f3f8;">
                                    <h4 class="mb-2" style="color: var(--slide-title-color);">Principios Clave:</h4>
                                    <ul class="line-height-loose" style="color: #718096;">
                                        <li><strong>Escucha activa:</strong> Prestar atenci√≥n completa sin interrumpir</li>
                                        <li><strong>Empat√≠a:</strong> Mostrar comprensi√≥n de los sentimientos del paciente</li>
                                        <li><strong>Honestidad compasiva:</strong> Informaci√≥n veraz con sensibilidad</li>
                                        <li><strong>Lenguaje claro:</strong> Evitar t√©rminos m√©dicos complejos</li>
                                        <li><strong>Respeto a la autonom√≠a:</strong> Incluir al paciente en decisiones</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-3",
                        order: 3,
                        type: "page",
                        title: "Apoyo a la Familia",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_3.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Cuidado Integral de la Familia</h2>
                                <div class="mb-4">
                                    <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?w=800&h=400&fit=crop" alt="Familia unida" class="img-full mb-3">
                                    <p class="text-md" style="color: #4a5568;">La familia es parte integral del cuidado paliativo. Los miembros familiares a menudo asumen roles de cuidadores y necesitan apoyo emocional, educaci√≥n y recursos.</p>
                                </div>
                                <div class="box" style="background: #fef3e2;">
                                    <h4 class="mb-2" style="color: var(--color-secondary);">√Åreas de Apoyo Familiar:</h4>
                                    <div class="grid-auto-fit-lg">
                                        <div class="support-grid-item">
                                            <strong style="color: #7fb3c4;">Educaci√≥n:</strong>
                                            <p class="text-sm" style="color: #718096;">Ense√±ar habilidades de cuidado b√°sico</p>
                                        </div>
                                        <div class="support-grid-item">
                                            <strong style="color: #7fb3c4;">Apoyo Emocional:</strong>
                                            <p class="text-sm" style="color: #718096;">Consejer√≠a y grupos de apoyo</p>
                                        </div>
                                        <div class="support-grid-item">
                                            <strong style="color: #7fb3c4;">Respiro:</strong>
                                            <p class="text-sm" style="color: #718096;">Tiempo de descanso para cuidadores</p>
                                        </div>
                                        <div class="support-grid-item">
                                            <strong style="color: #7fb3c4;">Duelo:</strong>
                                            <p class="text-sm" style="color: #718096;">Acompa√±amiento en el proceso de p√©rdida</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-4",
                        order: 4,
                        type: "dragdrop",
                        title: "Actividad: Categoriza las Intervenciones",
                        content: {
                            question: "Arrastra cada intervenci√≥n a la categor√≠a de s√≠ntoma correspondiente",
                            items: [
                                { id: "item-1", text: "Analg√©sicos potentes (morfina)", category: "dolor" },
                                { id: "item-2", text: "Ox√≠geno suplementario", category: "disnea" },
                                { id: "item-3", text: "Medicamentos antin√°useas", category: "nauseas" },
                                { id: "item-4", text: "Preguntar nivel de dolor del 1 al 10", category: "dolor" },
                                { id: "item-5", text: "Elevar cabecera de la cama", category: "disnea" },
                                { id: "item-6", text: "Comidas peque√±as y frecuentes", category: "nauseas" },
                                { id: "item-7", text: "Estimulaci√≥n el√©ctrica suave", category: "dolor" },
                                { id: "item-8", text: "Ejercicios de respiraci√≥n", category: "disnea" }
                            ],
                            categories: [
                                { id: "dolor", label: "Control del Dolor" },
                                { id: "disnea", label: "Manejo de Disnea" },
                                { id: "nauseas", label: "N√°useas y V√≥mitos" }
                            ],
                            explanation: "Control del Dolor: analg√©sicos potentes, evaluaci√≥n num√©rica del dolor, estimulaci√≥n el√©ctrica. Manejo de Disnea: ox√≠geno, posici√≥n elevada, ejercicios de respiraci√≥n. N√°useas y V√≥mitos: medicamentos antin√°useas, comidas peque√±as.",
                            feedbackCorrect: "¬°Excelente! Has categorizado correctamente todas las intervenciones seg√∫n el s√≠ntoma que atienden.",
                            feedbackIncorrect: "Algunas intervenciones no est√°n en la categor√≠a correcta. Revisa qu√© s√≠ntoma trata cada una."
                        }
                    },
                    {
                        id: "slide-5",
                        order: 5,
                        type: "page",
                        title: "Cuidados al Final de la Vida",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_5.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Acompa√±amiento en la Etapa Final</h2>
                                <p class="text-md mb-4" style="color: #4a5568;">Los √∫ltimos d√≠as y horas de vida requieren cuidados especiales centrados en la comodidad y dignidad del paciente.</p>
                                <div class="grid-auto-fit-xl mb-4">
                                    <div>
                                        <div class="box" style="background: #e8f3f8; height: 100%;">
                                            <h4 class="mb-2" style="color: var(--slide-title-color);">Signos de Aproximaci√≥n de la Muerte:</h4>
                                            <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                                <li>Disminuci√≥n del nivel de conciencia</li>
                                                <li>Cambios en el patr√≥n respiratorio</li>
                                                <li>Piel fr√≠a y moteada</li>
                                                <li>Disminuci√≥n de la ingesta</li>
                                                <li>Inquietud o agitaci√≥n terminal</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="box" style="background: #fef3e2; height: 100%;">
                                            <h4 class="mb-2" style="color: var(--color-secondary);">Cuidados Prioritarios:</h4>
                                            <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                                <li>Control de s√≠ntomas molestos</li>
                                                <li>Cuidado de la piel y posicionamiento</li>
                                                <li>Higiene bucal frecuente</li>
                                                <li>Presencia y acompa√±amiento</li>
                                                <li>Apoyo espiritual si lo desea</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="box box-border-left" style="background: #e8f3e8; border-color: #b8d4a7;">
                                    <p class="margin-0" style="color: #718096; font-style: italic;">üíö La muerte digna implica respetar los valores, creencias y deseos del paciente hasta el final, asegurando su comodidad y la de su familia.</p>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-6",
                        order: 6,
                        type: "page",
                        title: "Aspectos √âticos en Cuidados Paliativos",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_6.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Dilemas √âticos y Toma de Decisiones</h2>
                                <div class="mb-4">
                                    <img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=800&h=400&fit=crop" alt="√âtica m√©dica" class="img-full">
                                </div>
                                <p class="text-md mb-3" style="color: #4a5568;">Los cuidados paliativos involucran importantes consideraciones √©ticas que gu√≠an la toma de decisiones centrada en el paciente.</p>
                                <div class="grid-auto-fit-sm mb-3">
                                    <div class="team-grid-item" style="background: #e8f3f8;">
                                        <h4 class="mb-1" style="color: #7fb3c4; font-size: 1rem;">Autonom√≠a</h4>
                                        <p class="text-sm margin-0" style="color: #718096;">Derecho a decidir</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #fef3e2;">
                                        <h4 class="mb-1" style="color: #d4a373; font-size: 1rem;">Beneficencia</h4>
                                        <p class="text-sm margin-0" style="color: #718096;">Hacer el bien</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #e8f3e8;">
                                        <h4 class="mb-1" style="color: #a0c491; font-size: 1rem;">No Maleficencia</h4>
                                        <p class="text-sm margin-0" style="color: #718096;">No da√±ar</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #f3e8f8;">
                                        <h4 class="mb-1" style="color: #b19cd9; font-size: 1rem;">Justicia</h4>
                                        <p class="text-sm margin-0" style="color: #718096;">Equidad</p>
                                    </div>
                                </div>
                                <div class="box" style="background: #ffe8e8;">
                                    <h4 class="mb-2" style="color: var(--color-secondary);">Consideraciones Importantes:</h4>
                                    <ul class="line-height-relaxed" style="color: #718096;">
                                        <li>Voluntades anticipadas y testamentos vitales</li>
                                        <li>Limitaci√≥n del esfuerzo terap√©utico</li>
                                        <li>Sedaci√≥n paliativa cuando es apropiada</li>
                                        <li>Comunicaci√≥n honesta sobre pron√≥stico</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-7",
                        order: 7,
                        type: "quiz",
                        title: "Evaluaci√≥n: Pr√°ctica Cl√≠nica",
                        content: {
                            question: "¬øCu√°l es la prioridad principal en los cuidados al final de la vida?",
                            options: [
                                "Prolongar la vida del paciente el mayor tiempo posible",
                                "Asegurar la comodidad y dignidad del paciente",
                                "Realizar todos los procedimientos m√©dicos disponibles",
                                "Evitar cualquier tipo de medicaci√≥n"
                            ],
                            correctAnswer: 1,
                            explanation: "En los cuidados al final de la vida, la prioridad es asegurar la comodidad y dignidad del paciente, respetando sus valores y deseos, no prolongar la vida a toda costa.",
                            feedbackCorrect: "¬°Correcto! Comprendes que el enfoque principal es el bienestar y la dignidad del paciente.",
                            feedbackIncorrect: "Recuerda que en cuidados paliativos, especialmente al final de la vida, la prioridad es el confort y la dignidad."
                        }
                    },
                    {
                        id: "slide-8",
                        order: 8,
                        type: "page",
                        title: "Calidad de Vida en Cuidados Paliativos",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_8.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Maximizando el Bienestar del Paciente</h2>
                                <p class="text-md mb-3" style="color: #4a5568;">La calidad de vida es un concepto multidimensional que incluye aspectos f√≠sicos, psicol√≥gicos, sociales y espirituales del bienestar del paciente.</p>
                                <img src="https://images.unsplash.com/photo-1530026405186-ed1f139313f8?w=800&h=400&fit=crop" alt="Calidad de vida" class="img-full mb-3">
                                <div class="box mb-4" style="background: #e8f3f8;">
                                    <h4 class="mb-2" style="color: var(--slide-title-color);">Dimensiones de Calidad de Vida:</h4>
                                    <ul class="line-height-loose text-sm" style="color: #718096;">
                                        <li>‚ú® Bienestar f√≠sico y control de s√≠ntomas</li>
                                        <li>üí≠ Bienestar psicol√≥gico y emocional</li>
                                        <li>üë• Relaciones sociales y familiares</li>
                                        <li>üôè Bienestar espiritual y existencial</li>
                                        <li>üéØ Autonom√≠a y autodeterminaci√≥n</li>
                                    </ul>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-9",
                        order: 9,
                        type: "page",
                        title: "Recursos y Apoyo Disponibles",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_9.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <h2 class="mb-3" style="color: var(--slide-title-color);">Red de Apoyo y Recursos</h2>
                                <p class="text-md mb-4" style="color: #4a5568;">Existen diversos recursos y servicios disponibles para pacientes y familias en cuidados paliativos:</p>
                                <div class="grid-auto-fit-xl">
                                    <div class="box" style="background: #e8f3f8;">
                                        <h4 class="mb-2" style="color: #7fb3c4;">üè• Servicios M√©dicos</h4>
                                        <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                            <li>Unidades de cuidados paliativos</li>
                                            <li>Atenci√≥n domiciliaria</li>
                                            <li>Consultas ambulatorias</li>
                                            <li>Hospitalizaci√≥n cuando necesario</li>
                                        </ul>
                                    </div>
                                    <div class="box" style="background: #fef3e2;">
                                        <h4 class="mb-2" style="color: #d4a373;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Apoyo Familiar</h4>
                                        <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                            <li>Grupos de apoyo</li>
                                            <li>Consejer√≠a familiar</li>
                                            <li>Educaci√≥n para cuidadores</li>
                                            <li>Servicios de respiro</li>
                                        </ul>
                                    </div>
                                    <div class="box" style="background: #e8f3e8;">
                                        <h4 class="mb-2" style="color: #a0c491;">üí∞ Recursos Sociales</h4>
                                        <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                            <li>Asistencia financiera</li>
                                            <li>Ayudas t√©cnicas y adaptaciones</li>
                                            <li>Transporte sanitario</li>
                                            <li>Tr√°mites administrativos</li>
                                        </ul>
                                    </div>
                                    <div class="box" style="background: #f3e8f8;">
                                        <h4 class="mb-2" style="color: #b19cd9;">üåü Apoyo Emocional</h4>
                                        <ul class="line-height-relaxed text-sm" style="color: #718096;">
                                            <li>Psicolog√≠a cl√≠nica</li>
                                            <li>Terapia de duelo</li>
                                            <li>Acompa√±amiento espiritual</li>
                                            <li>Voluntariado</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: "slide-10",
                        order: 10,
                        type: "page",
                        title: "Gracias por tu Dedicaci√≥n",
                        convertedHtml: `
                            <div class="slide-content">
                                <div class="audio-player">
                                    <span class="audio-icon">üéß</span>
                                    <audio controls preload="metadata">
                                        <source src="audios/audio_10.mp3" type="audio/mpeg">
                                        Tu navegador no soporta el elemento de audio.
                                    </audio>
                                </div>
                                <div class="text-center mb-4">
                                    <div style="display: inline-block; background: linear-gradient(135deg, #6ba3ba 0%, #8fb37d 100%); padding: 2rem; border-radius: 50%; margin-bottom: 1.5rem; box-shadow: 0 8px 24px rgba(107, 163, 186, 0.3);">
                                        <span style="font-size: 4rem;">üéì</span>
                                    </div>
                                    <h2 class="mb-2" style="color: var(--slide-title-color); font-size: 2rem;">¬°Felicitaciones!</h2>
                                    <p style="font-size: 1.2rem; color: var(--text-secondary); font-weight: 500;">Has completado exitosamente el curso</p>
                                </div>
                                
                                <div class="box-border-left mb-4" style="background: linear-gradient(135deg, #e8f3f8 0%, #f0f8fa 100%); padding: 2rem; border-radius: 12px; border-color: var(--color-primary); border-left-width: 5px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                                    <p class="text-center mb-3" style="font-size: 1.1rem; line-height: 1.8; color: #4a5568;">
                                        Los conocimientos adquiridos te permitir√°n brindar una atenci√≥n m√°s <strong>compasiva</strong> y de <strong>mayor calidad</strong> a los pacientes y sus familias.
                                    </p>
                                    <div class="text-center" style="padding: 1.5rem; background: white; border-radius: 8px; margin-top: 1.5rem;">
                                        <p class="margin-0" style="font-size: 1.05rem; color: #718096; font-style: italic; line-height: 1.8;">
                                            üíö El verdadero arte de los cuidados paliativos no est√° solo en el tratamiento m√©dico, sino en acompa√±ar con <strong style="color: var(--slide-title-color);">dignidad</strong>, <strong style="color: var(--slide-title-color);">compasi√≥n</strong> y <strong style="color: var(--slide-title-color);">respeto</strong> en cada momento del viaje.
                                        </p>
                                    </div>
                                </div>

                                <div class="grid-auto-fit-md mt-4">
                                    <div class="team-grid-item" style="background: #e8f3f8;">
                                        <div class="mb-1" style="font-size: 2rem;">‚úÖ</div>
                                        <p class="text-sm margin-0" style="color: #718096; font-weight: 600;">Contenido Completado</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #fef3e2;">
                                        <div class="mb-1" style="font-size: 2rem;">üåü</div>
                                        <p class="text-sm margin-0" style="color: #718096; font-weight: 600;">Nuevas Habilidades</p>
                                    </div>
                                    <div class="team-grid-item" style="background: #e8f3e8;">
                                        <div class="mb-1" style="font-size: 2rem;">üí™</div>
                                        <p class="text-sm margin-0" style="color: #718096; font-weight: 600;">Listo para Aplicar</p>
                                    </div>
                                </div>

                                <div class="text-center" style="margin-top: 2.5rem; padding: 1.5rem; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 8px;">
                                    <p class="margin-0" style="color: var(--text-muted); font-size: 1rem;">
                                        ‚ú® Gracias por tu dedicaci√≥n y compromiso con la excelencia en el cuidado ‚ú®
                                    </p>
                                </div>
                            </div>
                        `
                    }
                ]
            }
        };

        // Variable para rastrear el √≠ndice actual de slides
        let currentIndex = 0;
        let totalSlidesCount = 11; // Actualizar seg√∫n el n√∫mero total de slides
        let isNavigating = false;

        // Funciones de navegaci√≥n que se conectan con CourseApp
        function nextSlide() {
            if (isNavigating || currentIndex >= totalSlidesCount - 1) return;
            isNavigating = true;
            currentIndex++;
            if (window.CourseApp && typeof window.CourseApp.nextSlide === 'function') {
                window.CourseApp.nextSlide();
            }
            // Scroll animado al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
                updateCustomNav();
                checkAndLockNextButton();
                isNavigating = false;
            }, 100);
        }

        function previousSlide() {
            if (isNavigating || currentIndex <= 0) return;
            isNavigating = true;
            currentIndex--;
            if (window.CourseApp && typeof window.CourseApp.previousSlide === 'function') {
                window.CourseApp.previousSlide();
            }
            // Scroll animado al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
                updateCustomNav();
                checkAndLockNextButton();
                isNavigating = false;
            }, 100);
        }

        // Funci√≥n para personalizar la navegaci√≥n
        function customizeNavigation() {
            const navContainer = document.getElementById('slide-navigation');
            if (!navContainer) return;

            // Verificar si estamos en la √∫ltima slide
            const isLastSlide = currentIndex === totalSlidesCount - 1;
            
            // Crear navegaci√≥n personalizada con el estilo actual
            let navHtml = `<button id="btn-prev" class="btn-secondary" onclick="previousSlide()">‚Üê Anterior</button>
                <span class="slide-counter"><span id="current-slide">${currentIndex + 1}</span> / ${totalSlidesCount}</span>`;
            
            // Si es la √∫ltima slide, mostrar bot√≥n "Finalizar Curso" en lugar de "Siguiente"
            if (isLastSlide) {
                navHtml += `<button id="btn-finish" class="btn-primary" onclick="showCompletionModal()" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">üéì Finalizar Curso</button>`;
            } else {
                navHtml += `<button id="btn-next" class="btn-primary" onclick="nextSlide()">Siguiente ‚Üí</button>`;
            }
            
            navContainer.innerHTML = navHtml;
            updateCustomNav();
            
            // Verificar si el slide actual es quiz o dragdrop y bloquear el bot√≥n si es necesario
            setTimeout(() => {
                checkAndLockNextButton();
            }, 250);
        }
        
        // Funci√≥n para verificar y bloquear el bot√≥n siguiente si es necesario
        function checkAndLockNextButton() {
            // Obtener el slide actual
            const currentSlide = courseDataStructure.courseData.slides[currentIndex];
            if (!currentSlide) return;
            
            const btnNext = document.getElementById('btn-next');
            if (!btnNext) return;
            
            // Si es quiz o dragdrop, verificar si ya fue respondido
            if (currentSlide.type === 'quiz' || currentSlide.type === 'dragdrop') {
                // Verificar si existe una respuesta para este slide
                const hasAnswer = window.CourseApp && window.CourseApp.getQuizAnswer && 
                                  window.CourseApp.getQuizAnswer(currentSlide.id);
                
                if (!hasAnswer || !hasAnswer.answered) {
                    // Bloquear el bot√≥n
                    btnNext.disabled = true;
                    btnNext.style.opacity = '0.5';
                    btnNext.style.cursor = 'not-allowed';
                    btnNext.style.pointerEvents = 'none';
                }
            }
        }

        // Funci√≥n para actualizar el estado de navegaci√≥n
        function updateCustomNav() {
            const btnPrev = document.getElementById('btn-prev');
            const btnNext = document.getElementById('btn-next');
            const btnFinish = document.getElementById('btn-finish');
            const currentSlideSpan = document.getElementById('current-slide');
            
            if (btnPrev && currentSlideSpan) {
                currentSlideSpan.textContent = currentIndex + 1;
                btnPrev.disabled = currentIndex === 0;
                
                // Actualizar estilos visuales del bot√≥n anterior
                if (currentIndex === 0) {
                    btnPrev.style.opacity = '0.5';
                    btnPrev.style.cursor = 'not-allowed';
                } else {
                    btnPrev.style.opacity = '1';
                    btnPrev.style.cursor = 'pointer';
                }
            }
            
            // Si existe el bot√≥n "Siguiente" (no estamos en la √∫ltima slide)
            if (btnNext) {
                btnNext.disabled = currentIndex === totalSlidesCount - 1;
                
                if (currentIndex === totalSlidesCount - 1) {
                    btnNext.style.opacity = '0.5';
                    btnNext.style.cursor = 'not-allowed';
                } else {
                    btnNext.style.opacity = '1';
                    btnNext.style.cursor = 'pointer';
                }
            }

            // Actualizar puntos de progreso
            updateProgressDots();
        }

        // Funci√≥n para actualizar puntos de progreso
        function updateProgressDots() {
            const progressContainer = document.getElementById('course-progress');
            if (!progressContainer) return;

            // Crear puntos de progreso si no existen
            if (progressContainer.children.length === 0) {
                let dotsHtml = '';
                for (let i = 0; i < totalSlidesCount; i++) {
                    dotsHtml += `<div class="progress-dot" data-slide="${i}" onclick="goToSlideCustom(${i})"></div>`;
                }
                progressContainer.innerHTML = dotsHtml;
            }

            // Actualizar estado de los puntos
            const dots = progressContainer.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index === currentIndex) {
                    dot.classList.add('active');
                } else if (index < currentIndex) {
                    dot.classList.add('completed');
                }
            });
        }

        // Funci√≥n para ir a un slide espec√≠fico
        function goToSlideCustom(index) {
            if (isNavigating || index < 0 || index >= totalSlidesCount) return;
            isNavigating = true;
            currentIndex = index;
            if (window.CourseApp && typeof window.CourseApp.goToSlide === 'function') {
                window.CourseApp.goToSlide(index);
            }
            // Scroll animado al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
                updateCustomNav();
                checkAndLockNextButton();
                isNavigating = false;
            }, 100);
        }

        // Observador para detectar cambios en el contenido
        function setupContentObserver() {
            const courseContent = document.getElementById('course-content');
            if (!courseContent) return;

            const observer = new MutationObserver(() => {
                customizeNavigation();
            });

            observer.observe(courseContent, {
                childList: true,
                subtree: true
            });
        }

        // Funci√≥n para mostrar el modal de completado
        function showCompletionModal() {
            const modal = document.getElementById('completion-modal');
            if (modal) {
                modal.classList.add('show');
                
                // Llamar a la funci√≥n SCORM de completado
                if (window.CourseApp && typeof window.CourseApp.completeCourse === 'function') {
                    console.log('‚úÖ Llamando a CourseApp.completeCourse()');
                    window.CourseApp.completeCourse();
                }
            }
        }

        // Funci√≥n para cerrar el modal
        function closeCompletionModal() {
            const modal = document.getElementById('completion-modal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // Funci√≥n para finalizar y cerrar (podr√≠a cerrar la ventana o redirigir)
        function finishAndClose() {
            // Cerrar modal
            closeCompletionModal();
            
            // Intentar cerrar la ventana (solo funciona si fue abierta por script)
            // En un LMS, esto normalmente cierra la ventana del curso
            try {
                window.close();
            } catch (e) {
                console.log('No se pudo cerrar la ventana autom√°ticamente');
            }
            
            // Alternativa: mostrar mensaje de que puede cerrar
            alert('Gracias por completar el curso. Puedes cerrar esta ventana.');
        }

        // Inicializar el curso cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            // Esperar a que course.js cargue
            setTimeout(() => {
                if (window.CourseApp && typeof window.CourseApp.init === 'function') {
                    // Inicializar CourseApp
                    window.CourseApp.init(courseDataStructure);
                    
                    // Esperar a que se renderice el contenido
                    setTimeout(() => {
                        customizeNavigation();
                        setupContentObserver();
                        
                        // Actualizar navegaci√≥n inicial
                        currentIndex = 0;
                        updateCustomNav();
                    }, 800);
                } else {
                    console.error('CourseApp no est√° disponible. Aseg√∫rate de incluir course.js');
                }
            }, 100);
        });
    </script>

    <!-- Bootstrap 5 JavaScript Bundle (incluye Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Incluir archivos JavaScript -->
    <script src="api.js"></script>
    <script src="course.js"></script>
</body>
</html>
